# Configure the server to listen on port 80 and respond to any hostname

server {
	listen       0.0.0.0:12345;
	server_name  aymane;

	# Define the default error pages
	error_page 404 /404.html;
	error_page 500 502 503 504 /50x.html;

	# Limit client body size to 10MB
	client_max_body_size 10M;

	# Define a route for /kapouet
	location /kapouet {
	autoindex on;
	root /tmp/www;
	#return 301 ./index.html;
	# Set a default file to answer if the request is a directory
	index index2.html;

	# Execute PHP scripts
	}

	# Define a route for uploading files
	location / {
		# autoindex on;
		# Define the accepted HTTP methods

		# Define where uploaded files should be saved
		root www/html;
		client_body_temp_path /var/www/uploads;
		cgi_pass py python3;
		# Set permissions for uploaded files

		# Set a default file to answer if the request is a directory
		#return 301 ./index.html;
	}
	location /upload/ {
	# Define the accepted HTTP methods

	# Define where uploaded files should be saved
	client_body_temp_path /var/www/uploads;

	# Set permissions for uploaded files

	# Set a default file to answer if the request is a directory
	}
}

server {

	listen 8080;
	server_name test1;
	
	location / {
		allowed_methods GET POST;
		root www/html;
		cgi_pass py python3;
	}
}

server {

	listen 8070;
	server_name cookies;

	location / {
		allowed_methods GET POST;
		root www/html;
		cgi_pass php /Users/ayassir/Desktop/WebServ_42/php/php-cgi;
	}
}

server {

	listen 9090;
	server_name session;

	location / {
		allowed_methods GET POST;
		root www/html;
		cgi_pass php /Users/ayassir/Desktop/WebServ_42/php/php-cgi;
	}
}
